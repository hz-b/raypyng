Search.setIndex({"docnames": ["code_documentation", "how_to_guides", "index", "install_raypyng", "tutorial"], "filenames": ["code_documentation.rst", "how_to_guides.rst", "index.rst", "install_raypyng.rst", "tutorial.rst"], "titles": ["Simulation", "How To Guides", "Welcome to raypyng\u2019s documentation!", "Install", "Tutorial"], "terms": {"class": [0, 1, 4], "raypyng": 1, "rml": [1, 2, 4], "none": [0, 1], "hide": [0, 1, 4], "fals": [0, 1, 4], "kwarg": 0, "A": [0, 1], "take": 0, "care": 0, "perform": [0, 1], "rai": [1, 2], "ui": 2, "__init__": 1, "initi": [], "file": [1, 2, 4], "param": [0, 1, 4], "string": 0, "point": [], "an": [0, 1, 3, 4], "beamlin": [0, 1, 2, 4], "templat": [0, 2], "rmlfile": 2, "object": [0, 4], "default": [0, 1, 4], "type": [0, 1], "option": [0, 1], "forc": [0, 1, 4], "gui": [], "leftov": [], "xvfb": [2, 4], "need": [0, 3, 4], "instal": [2, 4], "bool": 0, "rais": [0, 1], "except": 1, "If": [0, 1, 3, 4], "defin": [0, 1, 4], "__weakref__": [], "list": [0, 1, 2], "weak": [], "refer": [], "properti": [0, 4], "analyz": [1, 2, 4], "turn": 0, "off": 0, "analysi": 0, "result": [0, 1, 4], "The": [0, 1, 3, 4], "time": [0, 4], "so": [0, 3, 4], "onli": [0, 3, 4], "return": [0, 1], "true": [0, 1, 4], "export": [0, 1, 2], "onc": 0, "complet": 0, "possibl": [0, 1, 4], "check": [0, 3], "self": [0, 1], "possible_export": [0, 1, 4], "possible_exports_without_analysi": [0, 1, 4], "It": [0, 4], "expecet": 0, "dictionari": [0, 1, 4], "each": [0, 1, 4], "kei": [0, 1], "element": [0, 1, 4], "value": 0, "ar": [0, 1, 3, 4], "paramet": [0, 1, 4], "scan": [0, 4], "For": [0, 4], "valu": [0, 1, 4], "assign": 0, "path": [0, 4], "where": [0, 1, 3, 4], "execut": [0, 4], "simlat": 0, "current": [0, 3], "from": [0, 1, 3, 4], "which": [0, 4], "program": [0, 4], "can": [0, 3, 4], "name": [0, 1, 3, 4], "when": [0, 1], "raypyng_analysi": [0, 4], "repeat": [0, 4], "arbitrari": 0, "number": [0, 1, 4], "statitc": 0, "good": 0, "enough": 0, "us": [0, 1, 3, 4], "2": [0, 4], "million": [0, 4], "suggest": 0, "them": [0, 4], "instead": [0, 4], "increas": [0, 4], "repetit": [0, 1, 4], "1": [0, 4], "int": [0, 1, 4], "instanti": 0, "init": 0, "rml_list": 0, "thi": [0, 1, 2, 3, 4], "function": 0, "creat": [0, 3, 4], "folder": [0, 1, 4], "structur": 0, "requir": 0, "set": [0, 1, 4], "one": [0, 1, 4], "want": [0, 1, 4], "manual": 0, "befor": 0, "start": [0, 3], "run": [0, 1, 3, 4], "recip": 2, "multiprocess": [0, 1, 4], "method": [0, 1], "simulationrecip": [0, 1], "recipe": 0, "pass": [0, 1, 4], "boolint": 0, "all": [0, 1, 4], "cpu": 0, "integ": 0, "n": [0, 3], "provid": [0, 2], "even": 0, "alreadi": [0, 3], "exist": [0, 3], "miss": 0, "some": [0, 1, 4], "save_parameters_to_fil": 0, "dir": 0, "save": [0, 4], "user": [0, 1, 3], "input": [0, 4], "str": [0, 1], "simulation_nam": [0, 1, 4], "append": [0, 1], "param_list": 0, "make": 0, "sure": 0, "thei": [0, 1], "written": 0, "correctli": [0, 4], "request": 0, "_summary_": [], "contain": [0, 1, 4], "_calc_loop": [], "verbos": [], "calcul": [0, 4], "loop": [], "idepend": [], "depend": [], "simulations_param_list": [], "param_to_simul": [], "_check_if_en": [], "enabl": [], "otherwis": 0, "_check_param": [], "convert": [], "item": 1, "_enable_param": [], "auto": [], "_extract_param": [], "pars": [], "extract": 0, "independ": [], "print": [1, 4], "indieend": [], "ind_par": [], "dep_param_depend": [], "dict": 0, "dep_value_depend": [], "dep_par": [], "ind_param_valu": [], "_write_value_to_param": [], "write": [0, 2], "t": 4, "f": [], "float": [0, 1], "runner": 0, "ray_path": 0, "ray_binari": 0, "rayui": 0, "sh": 0, "background": 0, "implement": 0, "logic": 0, "process": 2, "__detect_ray_path": [], "intern": [], "autodetect": [], "raypyrunnererror": 0, "case": 4, "detect": [], "_readlin": [], "read": 0, "line": [], "stdout": [], "_write": [], "instr": [], "endlin": [], "command": [], "interfac": [], "_description_": [], "charact": [], "isrun": 0, "weather": 0, "rerutn": 0, "boolean": 0, "kill": 0, "pid": 0, "get": [0, 4], "id": 0, "_type_": 0, "open": [0, 4], "instanc": [0, 1, 4], "subprocess": 0, "found": 0, "error": 0, "post": 0, "data": 0, "At": [0, 1], "moment": 0, "work": [0, 2, 3, 4], "rawraysoutgo": [0, 1, 4], "_extract_bandwidth_fwhm": [], "rays_bw": [], "arrai": [0, 1, 4], "fwhm": [], "np": [0, 1, 4], "energi": [1, 4], "x": [0, 2, 4], "_extract_focus_fwhm": [], "rays_po": [], "posit": [], "_extract_intens": [], "how": 2, "mani": 4, "inform": [2, 4], "_list_fil": [], "dir_path": 0, "end_filenam": [], "end": [], "eith": [], "re": [], "_load_fil": [], "filepath": [], "load": [], "npy": 0, "numpi": 1, "arr": [], "_save_fil": [], "filenam": [0, 1], "header": [], "cleanup": 0, "exp_el": 0, "temporari": 0, "postptocess_rawrai": 0, "delet": 0, "more": [0, 1, 2, 4], "than": [0, 3, 4], "round": [0, 4], "wa": 0, "done": [0, 1], "averag": [0, 4], "extract_nrays_from_sourc": 0, "rml_filenam": 0, "photon": [0, 4], "flux": [2, 4], "find": [0, 1, 4], "sourc": [0, 1, 3, 4], "automat": [0, 1], "postprocess_rawrai": 0, "exported_el": 0, "exported_object": 0, "sim_numb": 0, "look": 0, "os": [0, 1], "join": 0, "csv": [0, 4], "bandwidth": [0, 4], "horizont": 0, "vertic": 0, "focu": 0, "size": 0, "compos": [0, 1], "n_rai": 0, "hor_focu": 0, "vert_focu": 0, "_analyzed_rai": 0, "opbject": [], "test": [0, 1, 4], "locat": 0, "prefix": 0, "_prepend": 0, "ie": 0, "0_": 0, "simul": [1, 2, 4], "simulationparam": 2, "rayuirunn": 2, "postprocess": 2, "simpl": [2, 4], "api": 2, "softwar": [2, 3], "optic": [0, 1, 2, 4], "synchrotron": 2, "system": 2, "develop": 2, "helmholtz": 2, "zentrum": 2, "berlin": 2, "tutori": [2, 3], "minim": 2, "exampl": [1, 2], "linux": 3, "maco": 3, "distribust": [], "download": 3, "link": [2, 3], "virtual": 3, "x11": 3, "framebuff": 3, "server": 3, "let": [3, 4], "you": [1, 3, 4], "headless": 3, "sudo": 3, "apt": 3, "script": [0, 1, 3], "part": 3, "distribuion": [], "app": 3, "new": 3, "python": [3, 4], "3": [0, 3], "8": 3, "newer": 3, "shell": 3, "termin": 3, "osx": 3, "prompt": [], "window": 0, "your": [3, 4], "version": 3, "python3": 3, "less": 3, "must": [1, 3, 4], "updat": 3, "we": [3, 4], "recommend": 3, "blueski": [], "environ": 3, "interfer": 3, "ani": [3, 4], "m": 3, "venv": 3, "bin": 3, "activ": 3, "altern": 3, "conda": 3, "latest": 3, "ophyd": 3, "also": [3, 4], "ipython": [3, 4], "interpret": 3, "design": 3, "scientist": 3, "pip": 3, "upgrad": 3, "matplotlib": 3, "qt5": 3, "flag": 3, "necessari": 3, "live": 3, "plot": [3, 4], "Or": 3, "wish": 3, "jupyt": 3, "notebook": 3, "kernel": 3, "like": [3, 4], "displai": 3, "mai": [3, 4], "alongsid": 3, "abl": 4, "scratch": 4, "To": [2, 4], "do": 4, "what": 4, "have": [1, 4], "argumet": [], "In": 4, "follow": 4, "call": 4, "elisa": 4, "import": [1, 4], "rml_file": [1, 4], "sim": [1, 4], "now": 4, "avail": 2, "well": 4, "tab": 4, "autocomplet": 4, "acess": 4, "dipol": [0, 4], "its": 4, "photonflux": 4, "cdata": [0, 4], "modifi": 4, "10": 4, "vari": 4, "certain": 4, "apertur": 4, "exit": 4, "slit": 4, "arang": 4, "200": 4, "7201": 4, "250": 4, "slitsiz": 4, "0": [0, 1, 4], "photonenergi": [1, 4], "exitslit": 4, "totalheight": 4, "plug": 4, "coupl": 4, "nrai": [1, 4], "100": [1, 4], "numberrai": 4, "raypy_simulation_": 4, "plusa": [], "choce": [], "eventu": 4, "simulation_fold": 4, "home": 4, "raypi": 4, "document": 4, "raypy_simulation_test": 4, "sometim": 4, "conveni": 4, "One": 4, "decid": 4, "prelimanari": [], "ha": 4, "anglephidistribut": 4, "anglepsidistribut": 4, "beampropertiesplotsnapshot": 4, "energydistribut": 4, "footprintabsorbedrai": 4, "footprintallrai": 4, "footprintoutgoingrai": 4, "footprintplotsnapshot": 4, "footprintwastedrai": 4, "intensityplotsnapshot": 4, "intensityx": 4, "intensityyz": 4, "pathlengthdistribut": 4, "rawraysbeam": 4, "rawraysincom": 4, "scalarbeamproperti": [0, 4], "scalarelementproperti": [0, 4], "don": 4, "imageplan": 4, "includ": 4, "detectoratfocu": 4, "final": 4, "5": [1, 4], "either": 4, "correspond": 4, "parallel": 4, "gener": 4, "speak": 4, "lower": 4, "core": 4, "monitor": 4, "ram": 4, "usag": 4, "comput": [0, 4], "block": 4, "should": [1, 4], "expect": 4, "input_param_dipole_numberrai": 4, "dat": 4, "round_n": 4, "two": [0, 4], "round_0": 4, "round_1": 4, "insid": 4, "0_dipol": 4, "0_dipole_analyzed_rai": 4, "followin": [], "sourcephotonflux": 4, "numberrayssurviv": 4, "percentagerayssurviv": 4, "horizontalfocusfwhm": 4, "verticalfocusfwhm": 4, "unit": 4, "singl": 4, "fill": [], "still": 4, "see": 4, "example_simulation_analyz": 4, "py": 4, "example_simulation_noanalyz": 4, "example_eval_noanalyze_and_analyz": 4, "previou": 4, "example_simulation_flux": 4, "intent": [], "example_simulation_rp": 4, "resolv": [1, 2, 4], "power": [1, 2, 4], "rp": 4, "reflect": [0, 1, 4], "everi": 4, "switch": [0, 4], "substrat": 4, "coiat": [], "s": 4, "materi": 4, "about": 4, "therefor": 4, "reliabl": 4, "example_beamwaist": 4, "beamwaist": [], "across": 4, "raw": [], "raysoutgo": [], "geometr": 4, "tracer": 4, "propag": 4, "until": 4, "next": 4, "both": 4, "top": 4, "view": 4, "side": 4, "experiment": 4, "fail": 4, "short": 2, "explan": 2, "distribut": 3, "argument": [0, 1, 4], "access": [1, 4], "plu": [], "choic": 4, "whether": 4, "preliminari": 4, "intend": 4, "coat": 4, "beam": 4, "waist": 4, "postprocessanalyz": 0, "moving_averag": 0, "w": 0, "morivng": 0, "move": 0, "appli": 0, "retrieve_bw_and_focuss": 0, "folder_nam": 0, "oe": [0, 1], "nsimul": 0, "mode": 0, "desir": 0, "foc_x": 0, "foc_i": 0, "bw": 0, "retrieve_flux_beamlin": 0, "objet": 0, "percentag": 0, "produc": 0, "ring": 0, "amper": 0, "photon_flux": 0, "flux_perc": 0, "rel": 0, "source_photon_flux": 0, "els": [0, 1], "wrapper": 0, "dure": 0, "initilizatino": 0, "xmltool": [], "safevaluedict": [], "safevaluelist": [], "initlist": [], "sanitizenam": [], "safe": [], "xmlattributednameel": [], "name_attribut": [], "xmlelement": [], "mutablemap": [], "parent": [], "represent": [], "xml": 0, "form": [], "attributeerror": 1, "yield": [], "add_cdata": 0, "store": 0, "add_child": 0, "child": 0, "get_attribut": 0, "get_el": 0, "handler": [], "known_class": [], "add": 1, "endel": [], "non": [], "namespac": [], "startel": [], "mappeddict": [], "func": [], "callabl": [], "given": [], "ad": [], "keep": [], "track": [], "origin": [], "prodiv": [], "acccess": [], "unmodifi": [], "mappedlist": [], "sequenc": [], "clear": [], "remov": 0, "count": [], "occurr": [], "extend": [], "other": [], "iter": [], "index": [], "stop": [], "first": [], "valueerror": [], "present": 1, "support": [], "insert": [], "i": 1, "pop": [], "last": [], "indexerror": [], "empti": 1, "out": [], "rang": [0, 1], "revers": [], "IN": [], "place": [], "beamlineel": 2, "objectel": 2, "paramel": [1, 2], "attribut": 0, "parser": [], "collect": [], "get_full_path": 0, "full": 0, "resolvable_nam": 0, "lab": 0, "simplifi": [0, 1], "syntax": 0, "resolvingpow": 0, "energy_rang": [0, 1], "arg": [0, 1], "sim_fold": [0, 1], "page": [], "been": [], "begin": 1, "dummi": 1, "ensur": 1, "least": 1, "three": 1, "abject": 1, "assum": 1, "output": 1, "give": 1, "myrecip": 1, "def": 1, "exporteachel": 1, "ev": 1, "isinst": 1, "typeerror": 1, "while": 1, "found_sourc": 1, "children": 1, "hasattr": 1, "break": 1, "did": 1, "par": 1, "try": 1, "reflectivitytyp": 1, "oe_list": 1, "__name__": 1, "__main__": 1, "1000": 1, "10000": 1, "myrecipetest": 1, "guid": 2, "especi": 1, "task": 1}, "objects": {"raypyng.postprocessing": [[0, 0, 1, "", "PostProcess"], [0, 0, 1, "", "PostProcessAnalyzed"]], "raypyng.postprocessing.PostProcess": [[0, 1, 1, "", "cleanup"], [0, 1, 1, "", "extract_nrays_from_source"], [0, 1, 1, "", "postprocess_RawRays"]], "raypyng.postprocessing.PostProcessAnalyzed": [[0, 1, 1, "", "moving_average"], [0, 1, 1, "", "retrieve_bw_and_focusSize"], [0, 1, 1, "", "retrieve_flux_beamline"]], "raypyng.recipes": [[0, 0, 1, "", "Flux"], [0, 0, 1, "", "ResolvingPower"]], "raypyng.rml": [[0, 0, 1, "", "BeamlineElement"], [0, 0, 1, "", "ObjectElement"], [0, 0, 1, "", "ParamElement"], [0, 0, 1, "", "RMLFile"]], "raypyng.rml.BeamlineElement": [[0, 1, 1, "", "add_cdata"], [0, 1, 1, "", "add_child"], [0, 1, 1, "", "get_attribute"], [0, 1, 1, "", "get_elements"], [0, 1, 1, "", "get_full_path"], [0, 1, 1, "", "resolvable_name"]], "raypyng.rml.ObjectElement": [[0, 1, 1, "", "add_cdata"], [0, 1, 1, "", "add_child"], [0, 1, 1, "", "get_attribute"], [0, 1, 1, "", "get_elements"], [0, 1, 1, "", "get_full_path"], [0, 1, 1, "", "resolvable_name"]], "raypyng.rml.ParamElement": [[0, 1, 1, "", "add_cdata"], [0, 1, 1, "", "add_child"], [0, 1, 1, "", "get_attribute"], [0, 1, 1, "", "get_elements"], [0, 1, 1, "", "get_full_path"], [0, 1, 1, "", "resolvable_name"]], "raypyng.rml.RMLFile": [[0, 1, 1, "", "read"], [0, 1, 1, "", "write"]], "raypyng.runner": [[0, 0, 1, "", "RayUIRunner"]], "raypyng.runner.RayUIRunner": [[0, 2, 1, "", "isrunning"], [0, 1, 1, "", "kill"], [0, 2, 1, "", "pid"], [0, 1, 1, "", "run"]], "raypyng.simulate": [[0, 0, 1, "", "Simulate"], [0, 0, 1, "", "SimulationParams"]], "raypyng.simulate.Simulate": [[0, 2, 1, "", "analyze"], [0, 2, 1, "", "exports"], [0, 2, 1, "", "params"], [0, 2, 1, "", "path"], [0, 2, 1, "", "possible_exports"], [0, 2, 1, "", "possible_exports_without_analysis"], [0, 2, 1, "", "raypyng_analysis"], [0, 2, 1, "", "repeat"], [0, 2, 1, "", "rml"], [0, 1, 1, "", "rml_list"], [0, 1, 1, "", "run"], [0, 1, 1, "", "save_parameters_to_file"], [0, 2, 1, "", "simulation_name"]], "raypyng.simulate.SimulationParams": [[0, 2, 1, "", "params"], [0, 2, 1, "", "rml"]]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:property"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "property", "Python property"]}, "titleterms": {"welcom": 2, "raypyng": [0, 2, 3, 4], "s": 2, "document": 2, "simul": 0, "simulationparam": 0, "rayuirunn": 0, "postprocess": 0, "content": 2, "instal": 3, "rai": [0, 3, 4], "ui": [0, 3, 4], "xvfb": 3, "tutori": 4, "minim": 4, "exampl": 4, "export": 4, "analysi": 4, "perfom": [], "recipe": [], "list": 4, "aval": [], "short": 4, "explan": 4, "perform": 4, "recip": [0, 1, 4], "avail": 4, "process": 0, "file": 0, "analyz": 0, "api": 0, "rml": 0, "rmlfile": 0, "beamlineel": 0, "objectel": 0, "paramel": 0, "attribut": [], "dictionari": [], "element": [], "parser": [], "collect": [], "resolv": 0, "power": 0, "flux": 0, "how": 1, "To": 1, "guid": 1, "templat": 1, "write": 1}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})